{% extends "base.html" %} {% block content %}
<h1>ExamTopicRunner</h1>
Created By Toshiki Ohtsuka
<p>
  <a
    href="/history/"
    style="font-size: 16px; color: blue; text-decoration: underline"
    >ğŸ“œ å±¥æ­´ä¸€è¦§ã‚’è¦‹ã‚‹</a
  >
</p>
<p>
  <a
    href="/question_performance/"
    style="font-size: 16px; color: purple; text-decoration: underline"
    >ğŸ“Š è¨­å•ã”ã¨ã®å›ç­”æˆç¸¾ã‚’è¦‹ã‚‹</a
  >
</p>
<p>
  <a
    href="/upload/"
    style="font-size: 16px; color: green; text-decoration: underline"
    >ğŸ“¤ ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</a
  >
</p>

<form action="{% url 'start_quiz' %}" method="GET">
  <label for="subject">ç§‘ç›®ã‚’é¸æŠï¼š</label>
  <select name="subject" id="subject">
    {% for subject in subjects %}
    <option value="{{ subject.subject }}">
      {{ subject.subject }}ï¼ˆ{{ subject.total_questions }}å•ï¼‰
    </option>
    {% endfor %}
  </select>

  <label for="mode">ãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠï¼š</label>
  <select name="mode" id="mode" required onchange="updateModeDescription()">
    <option value="random" {% if mode == "random" %}selected{% endif %}>ãƒ©ãƒ³ãƒ€ãƒ ãƒ¢ãƒ¼ãƒ‰</option>
    <option value="sequential" {% if mode == "sequential" %}selected{% endif %}>é€šå¸¸ãƒ¢ãƒ¼ãƒ‰</option>
  </select>

  <label for="num_questions">å‡ºé¡Œæ•°ï¼š</label>
  <select name="num_questions" id="num_questions">
    <option value="5">5å•</option>
    <option value="10">10å•</option>
    <option value="20">20å•</option>
    <option value="50">50å•</option>
    <option value="100">100å•</option>
    <option value="all">å…¨éƒ¨</option>
  </select>
  <label>æ­£èª¤è¡¨ç¤º:</label>
    <select name="show_feedback">
        <option value="yes">è¡¨ç¤ºã™ã‚‹</option>
        <option value="no">è¡¨ç¤ºã—ãªã„</option>
    </select>
  <button type="submit">ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹</button>
  <br><br>
  <!-- âœ… ãƒ¢ãƒ¼ãƒ‰èª¬æ˜ -->
  <div id="mode-description" style="font-size: 14px; color: gray;">
    <!-- JavaScriptã§èª¬æ˜ã‚’æ›´æ–° -->
  </div>
</form>

<!-- âœ… JavaScript: ãƒ¢ãƒ¼ãƒ‰èª¬æ˜ã‚’æ›´æ–° -->
<script>
  function updateModeDescription() {
      let modeSelect = document.getElementById("mode");
      let descriptionDiv = document.getElementById("mode-description");
      let selectedMode = modeSelect.value;

      if (selectedMode === "sequential") {
          descriptionDiv.innerHTML = "ğŸ“Œ <b>é †ç•ªã«è§£ããƒ¢ãƒ¼ãƒ‰</b>: å•é¡Œã‚’é †ç•ªã«è§£ãã¾ã™ã€‚é€”ä¸­ã§ä¸­æ–­ã—ã¦ã‚‚ã€æ¬¡å›ã¯ç¶šãã‹ã‚‰è§£ç­”ã§ãã¾ã™ã€‚1å‘¨ã™ã‚‹ã¨æœ€åˆã‹ã‚‰ã«æˆ»ã‚Šã¾ã™ã€‚";
      } else if (selectedMode === "random") {
          descriptionDiv.innerHTML = "ğŸ² <b>ãƒ©ãƒ³ãƒ€ãƒ ãƒ¢ãƒ¼ãƒ‰</b>: é¸æŠã—ãŸå•é¡Œæ•°ã®ç¯„å›²å†…ã§ã€æ¯å›ãƒ©ãƒ³ãƒ€ãƒ ã«å•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¾ã™ã€‚";
      }
  }

  // âœ… ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«èª¬æ˜ã‚’è¨­å®š
  document.addEventListener("DOMContentLoaded", updateModeDescription);
</script>

<h1>å•é¡Œé›†ã®ç®¡ç†</h1>

<!-- âœ… ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸExcelã”ã¨ã®å‰Šé™¤ãƒœã‚¿ãƒ³ -->
<h2>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã®å•é¡Œé›†</h2>
<table border="1">
  <tr>
    <th>ç§‘ç›®</th>
    <th>å•é¡Œæ•°</th>
    <th>å‰Šé™¤</th>
  </tr>
  {% for batch in batch_list %}
  <tr>
    <td>{{ batch.subject }}</td>
    <td>{{ batch.question_count }}</td>
    <td>
      <form
        method="post"
        action="{% url 'delete_questions_by_batch' batch.batch_id %}"
        onsubmit="return confirm('âš ï¸ ã“ã®å•é¡Œé›†ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');"
      >
        {% csrf_token %}
        <button
          type="submit"
          style="
            background-color: red;
            color: white;
            padding: 5px;
            border: none;
          "
        >
          ğŸ—‘ï¸ å‰Šé™¤
        </button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}